

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Mathematical morphology &#8212; BIP Labs</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.4cbf315f70debaebd550c87a6162cf0f.min.css" />
    <link rel="stylesheet" type="text/css" href="_static/jbvinc.css" />
    <link rel="stylesheet" type="text/css" href="_static/.ipynb_checkpoints/jbvinc-checkpoint.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lab5';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Denoising" href="lab61.html" />
    <link rel="prev" title="Segmentation" href="lab4.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">BIP Labs</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    BIP Labs
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Digital images</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="lab11.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab12.html">Display a saved image</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab13.html">Display several images</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab14.html">Create a simple image</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab15.html">Setting the intensity range</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab16.html">Segmentation by histogram thresholding</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab17.html">Contrast enhancement</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Transforms + Filtering</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="lab21.html">Convolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab22.html">Properties of the Fourier transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab23.html">Filtering aliasing</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Compression + Interpolation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="lab31.html">Lossy compression</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab32.html">Interpolation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Segmentation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="lab4.html">Segmentation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Binary Image Processing</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Mathematical morphology</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Restoration</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="lab61.html">Denoising</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab62.html">Deconvolution</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Feature Detection</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="lab71.html">Sobel and Canny detectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab72.html">Harris detector</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab73.html">Hough transform</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://vincmazet.github.io/bip/">Textbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Installing and using Python</a></li>
<li class="toctree-l1"><a class="reference external" href="https://moodle.unistra.fr/course/view.php?id=6678">Moodle</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/lab5.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Mathematical morphology</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#correction">Correction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#objectives">Objectives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#first-processings">First processings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#study-of-the-different-operators">Study of the different operators</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pool-detection">Pool detection</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#discussion">Discussion</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="mathematical-morphology">
<span id="p-lab5"></span><h1>Mathematical morphology<a class="headerlink" href="#mathematical-morphology" title="Permalink to this heading">#</a></h1>
<p>We want to detect and count the number of swimming pools visible in the satellite image <a href="../_static/data/moliets.png">moliets.png</a>.
Most of the functions to use are in module <code class="docutils literal notranslate"><span class="pre">skimage.morphology</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At first, do not try to find all the pools perfectly:
implement a first version of the method which gives an approximate result automatically.</p>
</div>
<ul class="simple">
<li><p>Apply a threshold on the image to highlight the pools.
Ask yourself about which image to use: the original image, the grayscale image, a particular band or something else?</p></li>
<li><p>Apply the four usual morphological operators (erosion, dilation, opening, closing)
to observe their influence and deduce the one most suited to the problem.</p></li>
<li><p>By using appropriate measures, identify the objects in the binary images which should correspond to pools,
and count them.</p></li>
<li><p>Determine the surface of the pools, knowing that the image is of resolution 50 cm.</p></li>
<li><p>Give a critical discussion about your method by listing its good behaviours and its limits,
then suggest improvements.</p></li>
<li><p>You can also apply your detection method on <a href="../_static/data/pools.zip">other images</a>.</p></li>
</ul>
<!-- ## Registration

Two satellite images of the Capitol in Toulouse are to be registered by using an iconic approach:
<a href="../_static/data/capitole1.jpg">capitole1.jpg</a> (the reference) and
<a href="../_static/data/capitole2.jpg">capitole2.jpg</a> (the source).

* Which deformation model is adapted to the problem?

* Before applying a complete registration processing on the two images,
  we first apply an arbitrary distortion to the source.
  To do this, use the appropriate function of the module `skimage.transform`
  to define an Euclidean transformation of translation $(400,-100)$ and of rotation $\pi/3$.
  These parameters are close to the optimal transformation.
  Then apply this transformation on the source with `skimage.transform.warp`.
  Check that the distorted image is close enough to the reference (you can display the difference between the two images).
  
* Implement an optimization method to automatically determine the best parameters of the transformation.
  The simplest optimization method (although very long in computing time!)
  consists of using loops to test several values and keep those that minimize the mean squared error
  (defined in [](labs:lab2)). --><div class="correction docutils">
</div>
<section id="correction">
<h2>Correction<a class="headerlink" href="#correction" title="Permalink to this heading">#</a></h2>
<section id="objectives">
<h3>Objectives<a class="headerlink" href="#objectives" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>apply and compare basic operations (erosion, dilation, opening, closing)</p></li>
<li><p>evaluate of the parameters of these operations</p></li>
<li><p>use connected components to extract useful information</p></li>
</ul>
</section>
<section id="first-processings">
<h3>First processings<a class="headerlink" href="#first-processings" title="Permalink to this heading">#</a></h3>
<div class="cell tag_remove-input docutils container">
</div>
<p>The image is a satellite view of a small town in the Landes, France. It is an RGB image of resolution 50 cm.</p>
<div class="cell tag_remove-input docutils container">
</div>
<p>Since the objects of interest are blue and no other object in the scene is of this color,
it may be interesting to deal with the blue band of the image.
Therefore, the pools are bright on the blue band, giving first discrimination between the pools and the rest.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">blue</span> <span class="o">=</span> <span class="n">img</span><span class="p">[:,:,</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="_images/2fc59d9cfd84065835ab2568a1d8719dcd5daefbc345f5f10e80b2b0649ac34b.png" src="_images/2fc59d9cfd84065835ab2568a1d8719dcd5daefbc345f5f10e80b2b0649ac34b.png" />
</div>
</div>
<p>The mathematical morphology operators described in the course work on binary images.
The blue band can be binarized by applying a threshold to separate the bright pixels from the others.
By looking at the histogram of the blue band and proceeding by trial and error,
we choose a threshold equals to 240.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="_images/2322eda410f863f37f7e8794e7a1c46b5e1eca4fe4b4a06b110c3f50897c6d6d.png" src="_images/2322eda410f863f37f7e8794e7a1c46b5e1eca4fe4b4a06b110c3f50897c6d6d.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cropbinarized</span> <span class="o">=</span> <span class="p">(</span><span class="n">blue</span> <span class="o">&gt;</span> <span class="mi">240</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="_images/96bfb906ce3f09e23489c7b529cfbdaa404ba2831d2d7fe3ceab72567ec57c90.png" src="_images/96bfb906ce3f09e23489c7b529cfbdaa404ba2831d2d7fe3ceab72567ec57c90.png" />
</div>
</div>
</section>
<section id="study-of-the-different-operators">
<h3>Study of the different operators<a class="headerlink" href="#study-of-the-different-operators" title="Permalink to this heading">#</a></h3>
<p>In this part, the mathematical morphology operators are applied to the sub-image marked out by the green square on the image above.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="_images/afb9fb1437a51452ce8c3eb365c7c37e580fc3fd4fd5f7ceef875c72de7fbca7.png" src="_images/afb9fb1437a51452ce8c3eb365c7c37e580fc3fd4fd5f7ceef875c72de7fbca7.png" />
</div>
</div>
<p>First of all, we choose as a structuring element a disk with a radius of 4 pixels.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="_images/681593e6904123390d14f1584b70bff362b577cc1cfe73c10ca00ea7a3016aa7.png" src="_images/681593e6904123390d14f1584b70bff362b577cc1cfe73c10ca00ea7a3016aa7.png" />
</div>
</div>
<p>The four basic operators applied to the image produce the results below.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="_images/5677ec128fe6eb69d271d7760ef03f8732da15d6189fa3024d5a5d60b70aee5c.png" src="_images/5677ec128fe6eb69d271d7760ef03f8732da15d6189fa3024d5a5d60b70aee5c.png" />
</div>
</div>
<ul class="simple">
<li><p>Which operator(s) tend(s) to plug the holes?</p></li>
<li><p>On the contrary, which operator(s) tend(s) to remove small objects?</p></li>
<li><p>Which operator(s) preserve(s) (roughly) the shape of objects?</p></li>
</ul>
<p>The same with a 10-pixel radius disk:</p>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="_images/1ceb5484c773e321da6653b2c230927619aef6799d4d8a3c27d1f1e84ab1ea13.png" src="_images/1ceb5484c773e321da6653b2c230927619aef6799d4d8a3c27d1f1e84ab1ea13.png" />
</div>
</div>
<p>Try other structuring elements to observe their influence!</p>
</section>
<section id="pool-detection">
<h3>Pool detection<a class="headerlink" href="#pool-detection" title="Permalink to this heading">#</a></h3>
<p>In the following, we consider the result of a closing with a 10-pixel radius disk for structuring element.</p>
<p>The function <code class="docutils literal notranslate"><span class="pre">skimage.morphology.label</span></code> returns a labeling of the different connected components,
and the function <code class="docutils literal notranslate"><span class="pre">skimage.measure.regionprops</span></code> measure some geometric properties of the connected components,
such as their surface or their position.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of connected component (that is, detected pools): 69
</pre></div>
</div>
</div>
</div>
<p>The centroids of the connected components are represented in the image below by the red dots.</p>
<p>Of course, there are fewer pools than red dots, but a lot of connected components are actually
small groups of pixels that do not correspond to pools.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<img alt="_images/39275461042f68968caaa3c7e601ddeadc417521bc9cb911d104b6708fd47a92.png" src="_images/39275461042f68968caaa3c7e601ddeadc417521bc9cb911d104b6708fd47a92.png" />
</div>
</div>
<p>The result can be improved by considering only the connected components whose number of pixels is greater than a certain value.
So, we have chosen to consider as pools the connected components whose area is greater than 20 pixels.</p>
<p>Moreover, we know that a pixel represents an area of 0.5<span class="math notranslate nohighlight">\(\times\)</span>0.5 m<sup>2</sup>,
so it is easy to calculate the average area of the detected pools.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of detected pools: 36
Average area of the detected pools: 40.89 m²
</pre></div>
</div>
<img alt="_images/54d8e124154edcb9d6578256b642b86ee155457865df968bcd80837523b135dd.png" src="_images/54d8e124154edcb9d6578256b642b86ee155457865df968bcd80837523b135dd.png" />
</div>
</div>
</section>
<section id="discussion">
<h3>Discussion<a class="headerlink" href="#discussion" title="Permalink to this heading">#</a></h3>
<p>The method proposed in this notebook is simple but not robust: swimming pools shaded or partially hidden by a tree are not always detected. Conversely, some objects can be considered as swimming pools because they are very bright in the blue band and large.
Therefore, some improvements to improve the result are listed below:</p>
<ul class="simple">
<li><p>The geometry of the connected components can be considered because the swimming pools are not only blue objects with a sufficiently large area, but they also have a rectangular shape;</p></li>
<li><p>we choose the threshold for binarization to work well on this image. But nothing guarantees that this value can be applied to another image: it may depend on the sensor resolution, the image brightness, the type of swimming pool, etc. In other words, the robustness of the threshold value has to be studied.</p></li>
<li><p>the binarization of the image could take into account the binarization of the neighbouring pixels. This principle can be modelled using Markov fields.</p></li>
<li><p>etc.</p></li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="lab4.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Segmentation</p>
      </div>
    </a>
    <a class="right-next"
       href="lab61.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Denoising</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#correction">Correction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#objectives">Objectives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#first-processings">First processings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#study-of-the-different-operators">Study of the different operators</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pool-detection">Pool detection</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#discussion">Discussion</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Vincent Mazet (University of Strasbourg, France)
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2020-2026.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  Basics of Image Processing &mdash; Vincent Mazet (Université de Strasbourg), 2020-2026 &mdash; <a href='https://vincmazet.github.io/bip/appendices/license.html'>CC BY-NC 4.0</a>.
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>